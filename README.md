# 📦 스마트 사물함 관리 시스템

## 개요
스마트 사물함 관리 시스템은 여러 사용자가 원격으로 사물함을 예약, 조회, 체크아웃, 시간 연장 등을 할 수 있도록 설계된 시스템입니다. 
이 시스템은 클라이언트-서버 아키텍처 기반으로, 소켓 통신을 통해 실시간 데이터를 처리하며, 사용자의 요청에 따라 사물함 상태를 효율적으로 관리할 수 있습니다.

## 주요 기능

### 1. 사물함 검색 (Search)
- 클라이언트는 사물함의 상태를 검색하고, 특정 사물함의 세부 정보를 확인할 수 있습니다.
- 사물함의 세부 정보는 비밀번호를 입력해야만 확인이 가능하며, 사물함의 내용물과 만료일 등의 민감한 데이터는 보호됩니다.

### 2. 사물함 예약 (Reservation)
- 사물함을 예약할 수 있으며, 여러 클라이언트가 동시에 접근하더라도 데이터베이스를 통해 실시간으로 예약 상태가 반영됩니다.
- 예약 중 연결이 끊어지면 예약이 자동으로 취소되어 데이터의 일관성이 유지됩니다.

### 3. 사물함 체크아웃 (Checkout)
- 예약된 사물함의 비밀번호를 확인하여 사물함을 체크아웃하고, 물건을 꺼낼 수 있습니다.
- 체크아웃 전에 확인 메시지를 통해 사용자의 의사를 재확인합니다.

### 4. 사물함 사용 시간 연장 (Handle Time)
- 사물함 사용 시간을 연장할 수 있는 기능을 제공합니다.
- ID와 비밀번호 확인 후 연장할 시간을 입력하여 서버에 반영됩니다.

## 시스템 흐름

### 1. 서버 실행
- 서버는 지정된 포트에서 클라이언트의 요청을 대기하며, 사물함 개수를 동적으로 할당할 수 있습니다.
- 서버는 파일 잠금을 통해 여러 서버 프로세스가 동시에 실행되는 것을 방지하고, 실시간 로그 파일을 생성하여 문제 발생 시 추적이 가능합니다.

### 2. 클라이언트 연결
- 클라이언트는 소켓을 통해 서버에 연결되며, 멀티 프로세스를 이용해 여러 사용자가 동시에 시스템을 이용할 수 있습니다.

## 기술 스택

### Backend
  - **C언어**
### Frontend
- **CLI 기반 인터페이스**: 메뉴 기반의 텍스트 인터페이스로 사용자가 쉽게 시스템을 이용할 수 있도록 설계되었습니다.

## 설치 및 실행

### 서버 실행
```bash
./server {사물함 개수}
  ```
  사물함 개수를 인자로 서버를 실행하면 해당 수의 사물함이 동적으로 할당됩니다.
  포트가 이미 사용 중이면 인접한 다른 포트로 자동으로 재시도하여 실행됩니다.
    - 이 경우 외부 포워딩할 경우 주의 필요할 수 있음!
  ```

### 클라이언트 실행 
```bash
./client {서버 주소} {포트 번호}
```


---
### test 실행 결과 및 향후 계획
```text
# test 실행 결과
각 기능별로 테스트 시나리오를 작성하여 모든 기능이 정상 작동함을 확인하였습니다.
부하 테스트에서도 안정적인 성능을 발휘하며, 여러 사용자가 동시에 접근하는 상황에서도 무리 없이 작동했습니다.
# 향후 계획
웹 인터페이스 추가: CLI 기반 인터페이스 외에 웹 브라우저를 통한 접근을 제공할 계획입니다.
데이터 암호화: 사물함의 민감한 정보를 더욱 안전하게 보호하기 위해 데이터 암호화 기능을 추가할 예정입니다.
시스템 최적화: 성능 최적화와 함께 유지보수성을 높이기 위한 코드 리팩토링을 진행할 계획입니다.
```

